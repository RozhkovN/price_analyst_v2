# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

‚úÖ **–ö–æ—Ä–Ω–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è Docker Compose):
- `.env` - —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è git)
- `.env.example` - —à–∞–±–ª–æ–Ω —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ (–≤ git)

‚úÖ **Backend**:
- `backend/src/main/resources/application.properties` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞

‚úÖ **Client**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `import.meta.env.VITE_API_URL`

### 2. Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

‚úÖ **docker-compose.yml**:
- –í—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `${VAR}`
- –ù–µ—Ç default –∑–Ω–∞—á–µ–Ω–∏–π (–≤—Å–µ –∏–∑ .env)
- –í–∫–ª—é—á–µ–Ω—ã –≤—Å–µ 3 —Å–µ—Ä–≤–∏—Å–∞: db, app, client
- Client –ø–æ–ª—É—á–∞–µ—Ç `VITE_API_URL` —á–µ—Ä–µ–∑ build args

### 3. Backend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

‚úÖ **application.properties**:
- `spring.datasource.url` = `jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}`
- `spring.datasource.username` = `${DB_USER}`
- `spring.datasource.password` = `${DB_PASSWORD}`
- `server.port` = `${SERVER_PORT}`
- `jwt.secret` = `${JWT_SECRET}`
- `jwt.expiration` = `${JWT_EXPIRATION}`

‚úÖ **Dockerfile**:
- –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ docker-compose.yml
- –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –æ–±—Ä–∞–∑–µ

### 4. Client –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

‚úÖ **Dockerfile**:
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `VITE_API_URL` –∫–∞–∫ build argument
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Vite

‚úÖ **–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥**:
- –í—Å–µ —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `import.meta.env.VITE_API_URL`
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

### 5. Git –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

‚úÖ **.gitignore**:
- `.env` - –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–∞–π–ª (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è)
- `backend/.env` - (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è)
- `client/.env` - (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è)
- `.env.example` —Ñ–∞–π–ª—ã - —Ä–∞–∑—Ä–µ—à–µ–Ω—ã (–≤ git)

### 6. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ .env

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `/Users/admin/OpenideProjects/price_analyst_v2/.env`:

```
# Database
DB_HOST=localhost
DB_PORT=5434
DB_NAME=price_service
DB_USER=price_db_user
DB_PASSWORD=9VmysmHDF3

# Server
SERVER_PORT=8400

# JWT
JWT_SECRET=ThisIsA64CharacterLongSecretKeyForJWTThatIsSecureEnoughForHS512ThisIsA64CharacterLongSecretKeyForJWT
JWT_EXPIRATION=2592000000

# JPA/Hibernate
JPA_HIBERNATE_DDL_AUTO=update
JPA_SHOW_SQL=false

# File Upload
FILE_MAX_SIZE=10MB

# CORS
CORS_ALLOWED_ORIGINS=*
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=*

# Swagger
SWAGGER_ENABLED=true

# API
VITE_API_URL=http://localhost:8400/api
```

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –° Docker Compose:
```bash
docker-compose up --build -d
```

–í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ `.env`

### –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤:
- ‚úÖ **db** - PostgreSQL 16 (–ø–æ—Ä—Ç 5434)
- ‚úÖ **app** - Spring Boot (–ø–æ—Ä—Ç 8400) 
- ‚úÖ **client** - React/Nginx (–ø–æ—Ä—Ç 3400)

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

1. **–§—Ä–æ–Ω—Ç –Ω–∞–π–¥–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ API**: –î–∞ ‚úÖ
   - `VITE_API_URL` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ docker-compose.yml
   - –§—Ä–æ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `import.meta.env.VITE_API_URL` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è
   - –ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `.env`: `http://localhost:8400/api`

2. **Backend –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –ë–î**: –î–∞ ‚úÖ
   - –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (host, port, name, user, password) –±–µ—Ä—É—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - spring.datasource.url –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

3. **JWT —Ä–∞–±–æ—Ç–∞–µ—Ç**: –î–∞ ‚úÖ
   - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –∏ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

4. **–ù–∏–∫–∞–∫–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –≤ git**: –î–∞ ‚úÖ
   - .env —Ñ–∞–π–ª –≤ .gitignore
   - –¢–æ–ª—å–∫–æ .env.example –≤ git

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ü—Ä–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ
git clone <repo>
cd price_analyst_v2

# 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ .env.example –≤ .env
cp .env.example .env

# 3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
# –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è production

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose up --build -d
```
